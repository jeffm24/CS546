<!DOCTYPE html>
<html lang="en">

<head>
    <% include ../partials/head %>
</head>

<body>
    <div class="container">
        <h1><%= username %>'s Profile</h1>
        <ul>
            <li>First Name: <% if (firstName) { %> firstName <% } %></li>
            <li>Last Name: <% if (lastName) { %> lastName <% } %></li>
            <li>Hobby: <% if (hobby) { %> hobby <% } %></li>
            <li>Pet Name: <% if (petName) { %> petName <% } %></li>
        </ul>
        <hr />
        <h2>Sign Up</h2>
        <form id="editInfoForm">
            <label>First Name: <input name="firstName" placeholder="First Name" type="text"></label>
            <br />
            <label>Last Name: <input name="lastName" placeholder="Last Name" type="text"></label>
            <br />
            <label>Hobby: <input name="hobby" placeholder="Hobby" type="text"></label>
            <br />
            <label>Pet Name: <input name="petName" placeholder="Pet Name" type="text"></label>
            <br />
            <input type="submit" value="Sign Up">
        </form>
    </div>

    <% include ../partials/scripts %>

    <script>
        $('#signInForm').on('submit', function(e) {

            $.ajax({
                url: '/signin',
                type: 'POST',
                data: {
                    'username': $('#signInForm input[name="username"]').val(),
                    'password': $('#signInForm input[name="password"]').val()
                },
                success: function(data) {
                    location.reload();
                },
                error: function(xhr, status, error) {
                    alert(xhr.responseText + ' (' + xhr.status + ')');
                }
            });

            return false;
        });
    </script>
</body>

</html>
